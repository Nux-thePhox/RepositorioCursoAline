package com.mx.ejercicio8;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import com.mx.ejercicio8.lambda.Alumno;
import com.mx.ejercicio8.lambda.ISaludo;

public class PrincipalEjercicio8 {
	public static void main(String[] args) {
		Alumno alumno = new Alumno(123456, "Jose", "Gonzales", "Jimenes", 21, "Gastronomia", "BUAP");
		Alumno alumno1 = new Alumno(68741, "Luis", "Osorio", "Sanchez", 29, "Administracion", "UNAM");
		Alumno alumno2 = new Alumno(78456, "Mariana", "Dominguez", "Hernandez", 23, "Lic.Enfermeria", "BUAP");
		Alumno alumno3 = new Alumno(89567, "Rodrigo", "Morales", "Gonzales", 20, "Arquitectura", "UPAEP");
		Alumno alumno4 = new Alumno(65234, "Carlos", "Jimenez", "Jimenez", 25, "Medicina", "BUAP");
		
		List<Alumno> lista = new ArrayList<>();
		lista.add(alumno);
		lista.add(alumno1);
		lista.add(alumno2);
		lista.add(alumno3);
		lista.add(alumno4);
		
		//Funcion de lambda o flecha
		/*
		 * (parametros) -> { el cuerpo de la funcion } */
		
		lista.forEach(
				(alumnoX) -> {System.out.println("El nombre del alumno es: "+alumnoX.getNombre());
				});
		
		//Imprimir detalle de un alumno usando filtros
		System.out.println("Detalle de alumno");
		lista.stream().filter(
				alux -> alux.getUniversidad().equalsIgnoreCase("buap")
				).forEach(
						alumnoX -> System.out.println("Nombre: "+alumnoX.getNombre()
						+" estudia: "+alumnoX.getCarrera()+" en la universidad: "+alumnoX.getUniversidad())
						);
		
		//expresiones lambda con interfaces funcionales
		ISaludo mensaje = (saludo, despedida) -> saludo + " y " + despedida;
		System.out.println("Expresion lambda con un parametro: "+mensaje.saludar("hola", "Hasta luego"));
		
		/*
		 * 
		 * 
		 * 
		 * 
		 * Mapear los nombres de los alumnos a mayusculas
		 * Calcular el promedio de las edades de todos los alumnos 
		 * 
		 * */
		
		//Filtrar los alumnos que tengan una edad mayor a 22 años
		System.out.println("=============== PRACTICA LAMBDA 1. ===============");
		System.out.println("Los alumnos mayores a 22 años son: ");
		lista.forEach((alumnoX)
				-> System.out.print(alumnoX.getEdad() > 22 ? alumnoX+"\n" : "")
				);
		
		//Filtrar los alumos cuyo nombre termine en S
		System.out.println("=============== PRACTICA LAMBDA 2. ===============");
		System.out.println("Los alumnos con nombre que terminan en S son: ");
		lista.stream()
			.filter(alumnoX -> alumnoX.getNombre().endsWith("s"))
			.forEach(aluX -> System.out.println("Nombre: "+aluX.getNombre()));
		
		//Ordenar los alumnos por su nombre(orden ascendente)
		System.out.println("=============== PRACTICA LAMBDA 3. ===============");
		System.out.println("Lista ordenada alfabeticamente (ascendente)");
		List<String> nombres = new ArrayList<String>();
		lista.forEach((alumnoActual)
				-> nombres.add(alumnoActual.getNombre()));
		Collections.sort(nombres);
		System.out.println(nombres);
		
		//Contar los alumnos de la carrera de Lic.Medicina
		System.out.println("=============== PRACTICA LAMBDA 3. ===============");
		System.out.println("Estudiantes que estudian medicina: ");
		lista.stream()
		.filter(alumnoX -> alumnoX.getNombre().equalsIgnoreCase("Medicina"))
		.forEach(aluX -> System.out.println("Nombre: "+aluX.getNombre()));
	}
}
